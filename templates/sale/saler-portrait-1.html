{% extends 'base.html' %}
{% load i18n static %}

{% block css_tail %}
<link href="{% static 'css/plugins/jsmind/style/jsmind.css' %}" rel="stylesheet">
<style type="text/css">
    #jsmind_container{
        width:800px;
        height:500px;
        border:solid 1px #ccc;
        /*background:#f4f4f4;*/
        /* background:#f4f4f4; */
    }
</style>
{% endblock %}

{% block body %}
<script>

</script>
<div style="display: none;">
    <div id="department-api">{{ departments_api }}</div>
</div>
<div class="row">
    <div class="col-sm-12">
        <div style="margin-top: 10px;"></div>
        <div class="ibox float-e-margins">
            <!-- <div style="margin-top: 5px;"></div> -->
            <!-- <div class="ibox-title">
                <h5>客户活跃度统计</h5>
                <div class="ibox-tools"></div>
            </div> -->
            <div class="ibox-content">
                <div id="jsmind_container"></div>
                <script type="text/javascript" src="{% static 'js/plugins/jsmind/js/jsmind.js' %}"></script>
                <script type="text/javascript" src="{% static 'js/plugins/jsmind/js/jsmind.draggable.js' %}"></script>
                <script>
                    var mind = {
                        "meta":{
                            "name":"jsMind remote",
                            "author":"hizzgdev@163.com",
                            "version":"0.2"
                        },
                        "format":"node_tree",
                        "data":{"id":"root","topic":"<a href='http://www.baidu.com'>baidu</a>", 
                                "background-image": "https://static-legacy.dingtalk.com/media/lADOIeGdXM0CWM0CWA_600_600.jpg", 
                                "width": "200", "height": "200", "children":[
                            {"id":"easy","topic":"个人信息","direction":"left","children":[
                                {"id":"easy1","topic":"姓名", "children": [{"id": "easy11", "topic": "丛大侠"}]},
                                {"id":"easy2","topic":"入职日期", "children": [{"id": "easy21", "topic": "2016-05-18"}]},
                                {"id":"easy3","topic":"年龄", "children": [{"id": "easy31", "topic": "22"}]},
                                {"id":"easy4","topic":"部门", "children": [{"id": "easy41", "topic": "政务事业部-六大区-荷兰"}]},
                                {"id":"other3","background-image":"ant.png", "width": "100", "height": "100"}
                            ]},
                            {"id":"open","topic":"Open Source","direction":"right","children":[
                                {"id":"open1","topic":"on GitHub", "background-color":"#eee", "foreground-color":"blue"},
                                {"id":"open2","topic":"BSD License"}
                            ]},
                            {"id":"powerful","topic":"Powerful","direction":"right","children":[
                                {"id":"powerful1","topic":"Base on Javascript"},
                                {"id":"powerful2","topic":"Base on HTML5"},
                                {"id":"powerful3","topic":"Depends on you"}
                            ]},
                            {"id":"other","topic":"test node","direction":"left","children":[
                                {"id":"other1","topic":"I'm from local variable"},
                                {"id":"other2","topic":"I can do everything"}
                            ]}
                        ]}
                    }
                    // jsMind的选项，更多参数参见jsMind的文档
                    // https://github.com/hizzgdev/jsmind/blob/master/docs/zh/index.md
                    var options = {
                        container:'jsmind_container',//容器的ID
                        editable:false,				// 是否启用编辑
                        theme:'primary'				//主题
             
                            //options的属性
                            //container : '',         // [必选] 容器的ID
                           // editable : false,       // 是否启用编辑
                           // theme : null,           // 主题
                           // mode :'full',           // 显示模式========full - 子节点动态分布在根节点两侧 [默认值] side - 子节点只分布在根节点右侧
                           // support_html : true,    // 是否支持节点里的HTML元素
                           // view:{
                           //     hmargin:100,        // 思维导图距容器外框的最小水平距离
                           //     vmargin:50,         // 思维导图距容器外框的最小垂直距离
                           //     line_width:2,       // 思维导图线条的粗细
                           //     line_color:'#555'   // 思维导图线条的颜色
                           // },
                           // layout:{
                           //     hspace:30,          // 节点之间的水平间距
                           //     vspace:20,          // 节点之间的垂直间距
                           //     pspace:13           // 节点与连接线之间的水平间距（用于容纳节点收缩/展开控制器）
                           // },
                           // shortcut:{
                           //     enable:true,        // 是否启用快捷键
                           //     handles:{},         // 命名的快捷键事件处理器
                           //     mapping:{           // 快捷键映射
                           //         addchild   : 45,    // <Insert>
                           //         addbrother : 13,    // <Enter>
                           //         editnode   : 113,   // <F2>
                           //         delnode    : 46,    // <Delete>
                           //         toggle     : 32,    // <Space>
                           //         left       : 37,    // <Left>
                           //         up         : 38,    // <Up>
                           //         right      : 39,    // <Right>
                           //         down       : 40,    // <Down>
                           //     }
                           // },
                    }
                    var jm = new jsMind(options);
             
             
                    jm.show(mind);
                    //jm.disable_edit();//禁止编制
                    jm.expand_all();//展开全部节点
                    jm.add_node(parent_node, nodeid, topic, data);//添加节点
             
             
                    console.log(jm.get_root());
                
                </script>
            </div>
        </div>
    </div>
</div>
<div id="init-data" style="display: none;">{{ init_data }}</div>
{% endblock %}

{% block js_tail %}
    <!-- Peity -->
    <script src="{% static 'js/plugins/peity/jquery.peity.min.js' %}"></script>
    <script src="{% static 'js/plugins/chosen/chosen.jquery.js' %}"></script>
    <script src="{% static 'js/plugins/chosen/chosen.jquery.js' %}"></script>
    <script src="{% static 'js/plugins/chosen/chosen.jquery.js' %}"></script>
    <script src="{% static 'js/plugins/chosen/chosen.jquery.js' %}"></script>

    <!-- JSKnob -->
    <script src="{% static 'js/plugins/jsKnob/jquery.knob.js' %}"></script>
    <script src="{% static 'js/plugins/datapicker/bootstrap-datepicker.js' %}"></script>
    <script src="{% static 'js/plugins/ionRangeSlider/ion.rangeSlider.min.js' %}"></script>
{% endblock %}